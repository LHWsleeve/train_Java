<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3. 0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.guigu.dao.keyDao">
<!-- 多表联合查询
    private Integer id;
    private String keyName;
    private Lock lock;//封装当前要是开那个锁

 -->

    <select id="getKeyById" resultMap="mykey">
        SELECT k.id kid, k.keyname, l.id lid,l.lockname
        FROM `key` k
        LEFT JOIN `lock` l ON k.lockid=l.id
        WHERE k.id=#{id}

    </select>

    <resultMap id="mykey" type="com.guigu.bean.Key">
        <id property="id" column="kid"/>
        <result property="keyName" column="keyname"/>
<!--        使用级联属性，封装联合查询出的结果-->
        <result property="lock.id" column="lid"/>
        <result property="lock.lockName" column="lockname"/>

    </resultMap>
</mapper>